[{"/Users/billwilke/CodeChallenges/movie-rater/src/reportWebVitals.js":"1","/Users/billwilke/CodeChallenges/movie-rater/src/index.js":"2","/Users/billwilke/CodeChallenges/movie-rater/src/Components/App/App.js":"3","/Users/billwilke/CodeChallenges/movie-rater/src/Components/Search/Search.js":"4","/Users/billwilke/CodeChallenges/movie-rater/src/Components/CardContainer/CardContainer.js":"5","/Users/billwilke/CodeChallenges/movie-rater/src/Components/MovieCard/MovieCard.js":"6","/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/getMovieDetails.js":"7","/Users/billwilke/CodeChallenges/movie-rater/src/Components/MoviePage/MoviePage.js":"8","/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/addRating.js":"9","/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/getRating.js":"10","/Users/billwilke/CodeChallenges/movie-rater/src/Components/Header/Header.js":"11","/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/getMovies.js":"12"},{"size":362,"mtime":1606232112203,"results":"13","hashOfConfig":"14"},{"size":609,"mtime":1606242761060,"results":"15","hashOfConfig":"14"},{"size":3320,"mtime":1606346350089,"results":"16","hashOfConfig":"14"},{"size":774,"mtime":1606340492129,"results":"17","hashOfConfig":"14"},{"size":718,"mtime":1606336452677,"results":"18","hashOfConfig":"14"},{"size":533,"mtime":1606342815933,"results":"19","hashOfConfig":"14"},{"size":492,"mtime":1606335534677,"results":"20","hashOfConfig":"14"},{"size":2358,"mtime":1606334303532,"results":"21","hashOfConfig":"14"},{"size":543,"mtime":1606335531057,"results":"22","hashOfConfig":"14"},{"size":277,"mtime":1606261987216,"results":"23","hashOfConfig":"14"},{"size":455,"mtime":1606332126850,"results":"24","hashOfConfig":"14"},{"size":503,"mtime":1606335549918,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"j0nnne",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/billwilke/CodeChallenges/movie-rater/src/reportWebVitals.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/index.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/Components/App/App.js",["51","52"],"import React, { useEffect, useState } from 'react'\nimport './App.css';\nimport Header from '../Header/Header'\nimport CardContainer from '../CardContainer/CardContainer'\nimport HomeSearchModel from '../HomeSearchModel/HomeSearchModel'\nimport { getMovies } from '../../apiCalls/getMovies'\nimport { getMovieDetails } from '../../apiCalls/getMovieDetails'\nimport { getRating } from '../../apiCalls/getRating'\nimport { addRating } from '../../apiCalls/addRating'\nimport { Switch, Route } from 'react-router-dom'\nimport MoviePage from '../MoviePage/MoviePage';\n\nconst App = () => {\n  const [allMovies, setAllMovies ] = useState([])\n  const [movieDetails, setMovieDetails ] = useState(null)\n  const [movieRating, setMovieRating ] = useState(null)\n  const [hasErrored, setHasErrored] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleClick = async (event) => {\n    const imdbID = event.target.id;\n    await getMovieInfo(imdbID)\n  }\n  \n  const handleRating = async (event, imdbID) => {\n    const className = event.target.className\n    if(className === 'thumbs-up') {\n      await giveRating(imdbID, movieRating[0].thumbs_up + 1, movieRating[0].thumbs_down)\n    } else {\n      await giveRating(imdbID, movieRating[0].thumbs_up, movieRating[0].thumbs_down + 1)\n    }\n  }\n\n  const giveRating = async (imdbID, thumbsUp, thumbsDown) => {\n    try {\n      const data = await addRating(imdbID, thumbsUp, thumbsDown, movieDetails.Title)\n      const newRating = await getRating(imdbID)\n      if(data) {\n        setMovieRating(newRating)\n      }\n    } catch(error) {\n      setHasErrored(error.toString())\n    }\n  }\n\n  const getMovieInfo = async (imdb_id) => {\n    setIsLoading(true)\n    try {\n      const rating = await getRating(imdb_id)\n      const data = await getMovieDetails(imdb_id)\n      if(data) {\n        setMovieRating(rating)\n        setMovieDetails(data)\n        return setIsLoading(false)\n      }\n    } catch(error) {\n      setHasErrored(error.toString())\n    }\n  }\n\n  const searchAllMovies = async (searchValue) => {\n    setIsLoading(true)\n    try {\n      const data = await getMovies(searchValue)\n      if(data) {\n        setAllMovies(data.Search)\n        return setIsLoading(false)\n      }\n    } catch(error) {\n      setHasErrored(error.toString())\n    }\n  }\n\n  const loading = () => {\n    return (\n      <p className='animate'>Loading</p>\n    )\n  }\n\n  return (\n    <main className='App'>\n      <Switch>\n        <Route path='/movie/:imdb_id'>\n          <Header searchMovies={searchAllMovies} />\n          {isLoading ? loading() :\n            <MoviePage\n            handleRating={handleRating}\n            rating={movieRating} \n            movie={movieDetails} \n            />\n          }\n          {/* {movieDetails === null && <Redirect to='/'/>} */}\n        </Route>\n        <Route path='/search/:searchValue'>\n          <Header searchMovies={searchAllMovies}/>\n          {isLoading ? loading() : \n            <CardContainer \n              handleClick={handleClick} \n              movies={allMovies}\n            />\n          }\n          {/* {allMovies.length === 0 && <Redirect to='/'/>} */}\n        </Route>\n        <Route path='/'>\n          <HomeSearchModel \n            searchMovies={searchAllMovies} \n          />\n        </Route>\n      </Switch>\n    </main>\n  );\n}\n\nexport default App;\n","/Users/billwilke/CodeChallenges/movie-rater/src/Components/Search/Search.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/Components/CardContainer/CardContainer.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/Components/MovieCard/MovieCard.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/getMovieDetails.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/Components/MoviePage/MoviePage.js",["53"],"/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/addRating.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/getRating.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/Components/Header/Header.js",[],"/Users/billwilke/CodeChallenges/movie-rater/src/apiCalls/getMovies.js",[],{"ruleId":"54","severity":1,"message":"55","line":1,"column":17,"nodeType":"56","messageId":"57","endLine":1,"endColumn":26},{"ruleId":"54","severity":1,"message":"58","line":17,"column":10,"nodeType":"56","messageId":"57","endLine":17,"endColumn":20},{"ruleId":"54","severity":1,"message":"59","line":3,"column":9,"nodeType":"56","messageId":"57","endLine":3,"endColumn":17},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'hasErrored' is assigned a value but never used.","'Redirect' is defined but never used."]